<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=GBK">
<title>热点管理</title>
    <link rel="stylesheet" type="text/css" href="/newver/resources/css/ext-all.css" /> 
       
    
      
    <script type="text/javascript" src="/newver/resources/js/ext-all_n.js"></script>
    
  <script>  
    
Ext.require([
    'Ext.form.*',
    'Ext.layout.container.Column',
    'Ext.window.MessageBox',
    'Ext.fx.target.Element',
    'Ext.data.*'
]);


Ext.onReady(function(){

    Ext.define('State', {
        extend: 'Ext.data.Model',
        fields: [
            {type: 'string', name: 'groupid'},
            {type: 'string', name: 'groupname'}
        ]
    });
    // The data for all states
    var states = [
    [#SLPB#]
        {"groupid":"[#groupid#]","groupname":"[#groupname#]"},
    [#SLPE#]
        {"groupid":"0","groupname":"未知"}
        
    ];
    var store = Ext.create('Ext.data.Store', {
        model: 'State',
        data: states
    });

    Ext.define('State', {
        extend: 'Ext.data.Model',
        fields: [
            {type: 'string', name: 'groupid'},
            {type: 'string', name: 'groupname'}
        ]
    });
    // The data for all states
    
/*
    var groupCombo = Ext.create('Ext.form.field.ComboBox', {
        fieldLabel: '所属区县',
        valueField:'groupid',
         width:243,
        displayField: 'groupname',
        emptyText: '&nbsp;&nbsp;&nbsp;&nbsp;请选择区县&nbsp;&nbsp;',
        name : 'groupid',      
        value:'[#groupid#]',
//        allowBlank: false,
        forceSelection: true,
        store: store,
        queryMode: 'local',
        typeAhead: true
    });

    var fwztCombo = Ext.create('Ext.form.field.ComboBox', {
        fieldLabel: '服务状态',
        valueField:'groupid',
        displayField: 'groupname',
        name : 'servicestate',      
        value:'[#servicestate#]',
        allowBlank: false,
        forceSelection: true,
        store: store_fuzt,
        queryMode: 'local',
        typeAhead: true
    });
    var jrfsCombo = Ext.create('Ext.form.field.ComboBox', {
        fieldLabel: '接入方式',
        valueField:'groupid',
        displayField: 'groupname',
        name : 'jointype',      
        value:'[#jointype#]',
        allowBlank: false,
        forceSelection: true,
        store: store_jrfs,
        queryMode: 'local',
        typeAhead: true
    });

    var jkztCombo = Ext.create('Ext.form.field.ComboBox', {
        fieldLabel: '监控级别',
        valueField:'groupid',
        displayField: 'groupname',
        name : 'monflag',      
        value:'[#monflag#]',
        allowBlank: false,
        forceSelection: true,
        store: store_jkzt,
        queryMode: 'local',
        typeAhead: true
    });

*/

    var SeriousInfoGroup = {
        xtype: 'fieldset',
        width: 350,
        title: '严重级别告警',
        style:{
	        marginRight: 'auto',
	        marginLeft: 'auto'
				},  
//        layout: 'hbox',

       layout: 'anchor',
        defaults: {
            anchor: '100%',
            height:28,
            labelStyle: 'padding-left:4px;'
        },
        collapsible: false,
        items: [           
            {
            labelWidth: 140,
            layout: 'hbox',
            xtype: 'container',
            items:[{
            xtype: 'textfield',
            name: 'h_disk_per',
            value: '[#h_disk_per#]',
            allowBlank: false,
            fieldLabel: '磁盘使用率阀值百分比'}
            ]
        },
        {
            labelWidth: 140,
            layout: 'hbox',
            xtype: 'container',
            items:[{
            xtype: 'textfield',
            format: "Y/m/d",
            emptyText: ' ',
//            grow:true, 
            name: 'h_cpu_per',
            value: '[#h_cpu_per#]',
//            allowBlank: false,
            fieldLabel: 'CPU使用率阀值百分比'}
            ]
        },
      
        {
		            labelWidth: 140,
		            layout: 'hbox',
		            xtype: 'container',
		            items:[{
		            xtype: 'textfield',
		            name: 'h_mem_per',
		            value: '[#h_mem_per#]',
		//            allowBlank: false,
		            fieldLabel: '内存使用率阀值百分比'}
            ]
        }
        
        ]
    };
    
    var MiddInfoGroup = {
        xtype: 'fieldset',
        width: 350,
        title: '中度级别告警',
        style:{
	        marginRight: 'auto',
	        marginLeft: 'auto'
				},  
//        layout: 'hbox',

       layout: 'anchor',
        defaults: {
            anchor: '100%',
            height:28,
            labelStyle: 'padding-left:4px;'
        },
        collapsible: false,
        items: [           
            {
            labelWidth: 140,
            layout: 'hbox',
            xtype: 'container',
            items:[{
            xtype: 'textfield',
            name: 'm_disk_per',
            value: '[#m_disk_per#]',
            allowBlank: false,
            fieldLabel: '磁盘使用率阀值百分比'}
            ]
        },
        {
            labelWidth: 140,
            layout: 'hbox',
            xtype: 'container',
            items:[{
            xtype: 'textfield',
            format: "Y/m/d",
            emptyText: ' ',
//            grow:true, 
            name: 'm_cpu_per',
            value: '[#m_cpu_per#]',
//            allowBlank: false,
            fieldLabel: 'CPU使用率阀值百分比'}
            ]
        },
      
        {
		            labelWidth: 140,
		            layout: 'hbox',
		            xtype: 'container',
		            items:[{
		            xtype: 'textfield',
		            name: 'm_mem_per',
		            value: '[#m_mem_per#]',
		//            allowBlank: false,
		            fieldLabel: '内存使用率阀值百分比'}
            ]
        }
        
        ]
    };
    
    var ComInfoGroup = {
        xtype: 'fieldset',
        width: 350,
        title: '一般级别告警',
        
        style:{
	        marginRight: 'auto',
	        marginLeft: 'auto'
				},  
//        layout: 'hbox',

       layout: 'anchor',
        defaults: {
            anchor: '100%',
            height:28,
            labelStyle: 'padding-left:4px;'
        },
        collapsible: false,
        items: [           
            {
            labelWidth: 140,
            layout: 'hbox',
            xtype: 'container',
            items:[{
            xtype: 'textfield',
            name: 'l_disk_per',
            value: '[#l_disk_per#]',
            allowBlank: false,
            fieldLabel: '磁盘使用率阀值百分比'}
            ]
        },
        {
            labelWidth: 140,
            layout: 'hbox',
            xtype: 'container',
            items:[{
            xtype: 'textfield',
            format: "Y/m/d",
            emptyText: ' ',
//            grow:true, 
            name: 'l_cpu_per',
            value: '[#l_cpu_per#]',
//            allowBlank: false,
            fieldLabel: 'CPU使用率阀值百分比'}
            ]
        },
      
        {
		            labelWidth: 140,
		            layout: 'hbox',
		            xtype: 'container',
		            items:[{
		            xtype: 'textfield',
		            name: 'l_mem_per',
		            value: '[#l_mem_per#]',
		//            allowBlank: false,
		            fieldLabel: '内存使用率阀值百分比'}
            ]
        }
        , {
                xtype: 'hidden',
                name: 'FunName',
                value:'ncmDiskRateSave_par'
           }
        ]
    };
     
    
    
    var fp = Ext.create('Ext.FormPanel', {         
        frame: true,
        method:'POST',
        name:'form1',
        fieldDefaults: {
            labelWidth: 140
        },
        width: 947,
        height:487,
        renderTo:'corp_edit',
        
//        style : 'text-align:center',              //SeriousInfoGroup 文字居中
        
        bodyPadding: 4,
        items: [
            SeriousInfoGroup,
            MiddInfoGroup,
            ComInfoGroup,
        ],
        buttons: [{
            text: '保存',
            handler: function(){
            if(fp.getForm().isValid()){
             this.disabled=true;
             var guserid=document.getElementById("form1").userid.value;
//             alert(guserid);
               fp.form.doAction('submit',{
//               url:'/pronline/Msg?FunName@ncwlanWebClientAdd_Hot',
               url:'/pronline/Msg',
                method:'POST',
                params:{userid:guserid},
                success:function(form,action){ 
//                     this.disabled=false;
           					Ext.Msg.alert('操作',"保存成功");
           					document.getElementById("form1").userid.value=action.result.id;
 //            					window.opener.reflash();	
                 },
             		 failure:function(form,action){    		 
                    Ext.Msg.alert('操作',"保存失败");
            		 }
               }
             )
//             alert('cccc');
        		 this.disabled=false; 
            }
         }
        },{
            text: '重置',
            style : 'margin-right:5px',
            handler: function(){
                fp.getForm().reset();
            }
        },{
            text: '关闭',
            style : 'margin-right:370px',
            handler: function(){
                   var win = parent.Ext.getCmp('addwindow');
                  if (win) {win.close();}

            }
        }]
    });
    if(document.getElementById("form1").userid.value==''){
       fp.getForm().getValues().groupid=document.getElementById("form1").groupid.value;
    }
    

});




</script>
    
    
</head>
<body >
    <div id="corp_edit"></div>
    <div id="joinfac" class="x-hide-display">
         <select name="faccode"><option value="aaaa">fffff</option>/</select>
    </div> 
    <form name="form1" id="form1">
    	<input type="hidden" name="userid" value="[#userid#]">
    	<input type="hidden" name="groupid" value="[#groupid#]">
    </form>
</body>
</html>

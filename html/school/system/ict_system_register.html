<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=GBK">
<title>用户注册</title>
    <link rel="stylesheet" type="text/css" href="/newver/resources/css/ext-all.css" /> 
	<!-- <link rel="stylesheet" type="text/css" href="/newver/resources/css/ext-all-gray.css" /> -->
        <style type="text/css">
        .icon-grid {
            background-image:url(/newver/resources/themes/images/share/grid.png) !important;
        }
        .add {
            background-image:url(/newver/resources/themes/images/share/add.gif) !important;
        }
        .option {
            background-image:url(/newver/resources/themes/images/share/plugin.gif) !important;
        }
        .remove {
            background-image:url(/newver/resources/themes/images/share/delete.gif) !important;
        }
        .exp {
            background-image:url(/newver/resources/themes/images/share/application_go.png) !important;
        }
        .accept {
            background-image:url(/newver/resources/themes/images/share/accept.png) !important;
        }
        .x-form-clear-trigger {
            background-image: url(/newver/resources/themes/images/default/form/clear-trigger.gif);
        }
        
        .x-form-search-trigger {
            background-image: url(/newver/resources/themes/images/default/form/search-trigger.gif);
        }
.x-grid3-cell-inner{
white-space:normal !important;
overflow:visible!important;
}


    </style>
<style type="text/css">   
   .x-selectable, .x-selectable * {   
    -moz-user-select: text!important;   
    -khtml-user-select: text!important;   
}   
</style>
      
    <script type="text/javascript" src="/newver/resources/js/ext-all.js"></script>

  <script>  


//多字段验证用VType  
Ext.apply(Ext.form.VTypes,{  
    password:function(val,field){  
        if(field.initialPassField){  
            var pwd = Ext.getCmp(field.initialPassField);  
            return (val == pwd.getValue());  
        }  
        return true;  
    },  
    passwordText:'两次密码不一致'  
}); 

Ext.onReady(function() {
		  Ext.QuickTips.init();  
    var changePasswordFrom = new Ext.form.FormPanel({  
        title:'用户注册',  
        renderTo:'docbody',  
        frame:true,  
        width:400,  
        buttonAlign:'center',  
        labelAlign:'right',  
        labeWidth:150,  
        defaultType:'textfield',  
        defaults:{width:200,allowBlank:false,msgTarget:'side',  
             //minLength:6,  
             //minLengthText:'密码不能少于6位',  
             //maxLength:24,  
             //maxLengthText:'密码不能超过10位'
			 }, 
        items:[   
			{  
             fieldLabel:'手机/学号',  
             name:'vname',  
			 value:"124",
             blankText:'手机/学号不能为空',
			 maxLength:32,  
             maxLengthText:'手机/学号不能超过32位', 
             id:'vname'  
            },
			{  
             fieldLabel:'昵称',  
             name:'dname',  
			 value:"124",
             //inputType:'password',  
             //blankText:'手机/学号不能为空', 
			 maxLength:24,  
             maxLengthText:'昵称不能超过24位', 
			 allowBlank:true,
             id:'dname'  
            },
			{  
             fieldLabel:'姓名',  
             name:'mname',  
			 value:"124",
             //inputType:'password',  
             //blankText:'手机/学号不能为空', 
			 maxLength:24,  
             maxLengthText:'姓名不能超过24位', 
			 allowBlank:true,
             id:'mname'  
            },
            {  
             fieldLabel:'密码',  
             name:'passwd',  
			 value:"124",
             inputType:'password',  
             blankText:'密码不能为空',  
			 maxLength:24,  
             maxLengthText:'密码不能超过24位',
             id:'passwd'  
            },{  
             fieldLabel:'确认密码',  
             name:'secondPassword',  
			 value:"124",
             inputType:'password',  
             blankText:'确认密码不能为空',  
			 maxLength:24,  
             maxLengthText:'密码不能超过24位',
             vtype:'password',  
			 id:'secondPassword',
			 //与id为initialPassField所指定的值的组件的值进行比较，不一致则提醒
             initialPassField:'passwd'  
            },
			{  
             fieldLabel:'地址',  
			 value:"124",
             name:'address',  
			 maxLength:128,  
             maxLengthText:'地址不能超过128位',
			 allowBlank:true,
             id:'address'  
            }    
        ],  
        buttons:[{  
            text:'提交',  
            handler:function(){  
			//如果验证未通过，不提交
                if(!changePasswordFrom.getForm().isValid()){  
					alert('isValid no'); 
                  return;  
                }  
                changePasswordFrom.getForm().submit({
                    url:'/pronline/Msg',  
					params:{FunName:'ict_register'},
                    success:function(f,action){  
						
						alert(action.result.result);
                        if(action.result.result){  
                            alert('注册成功');  
                        }  
                    },  
                    failure:function(f,action){   
                        //changePasswordFrom.getForm().reset();  
                        alert('注册失败');  
                    }   
                });  
            }
        }]  
    });  
});

//参考例子：
        /*buttons: [
            {
                text   : '保存',
                handler: function() {
             
                 this.up('form').getForm().doAction('submit',{
                 url:'/pronline/Msg',
                 method:'post',
                 params:{FunName:'lanBackParmSet_Save'},   
                  success:function(form,action){
           
                 alert(action.result.success);
                 }   
                 })

                }
            },
            {
                text   : '手动立即执行',
                handler: function() {
             
                 this.up('form').getForm().doAction('submit',{
                 url:'/pronline/Msg',
                 method:'post',
                 params:{FunName:'lanBackParmSet_Save',app:'app'},   
                  success:function(form,action){
    
                 alert('正在执行备份操作，请稍候!');
                 }   
                 })

                }
            }
        ]*/
</script>
    
</head>
<body style="background-color:#DEE8FA">

    <div id="docbody" ></div>

</body>
</html>
